# 언리얼

## 단축키

* 에디터:
    - Ctrl + N: 새 레벨 생성
    - Ctrl + Alt + F11: 라이브 코딩 빌드
    - Alt + S: 시뮬레이트

* 블루프린트:
    - Ctrl + Variable D&D: Get
    - Alt + Variable D&D: Set
    - B + Left Click: 브랜치 생성
    - S + Left Click: 시퀀스 생성
    - F9: 중단점 생성

## 블루프린트

레벨 블루프린트:
- 레벨 이벤트 흐름 제어용. 재사용 및 상속 불가능

블루프린트 클래스:
- 오브젝트 로직용. 여러 레벨에서 재사용 및 상속 가능. 여러개 생성 가능

문자열 타입:
- Name: 해쉬값으로 빠른 비교 가능 (자주 바뀌는 값에는 사용 X)
- String: 기본적인 문자열
- Text: 다국어 지원 가능한 문자열


## 빌드

비주얼 스튜디오에서 실행:
- 엔진(에디터)과 사용자 코드가 통째로 빌드돼서 실행됨 (엔진은 빌드돼있고 링킹만 하는듯)
- 코드가 수정돼도 완전히 빌드되는 것이라 오류 발생 확률이 적음
- 매번 실행할때마다 에디터가 새로 켜지고, 실행을 멈추면 에디터가 꺼져버리는 단점이 있음
- 특히 파일을 새로 생성하면 VS를 리로드해야하고, 이때 에디터를 멈춰야해서 파일을 추가 할때마다 다시 켜야함

에디터에서 실행 (라이브 코딩):
- 패치 시스템을 이용해 변경된 코드만 적용시킴 (에디터 실행 중에 변경 코드 적용 가능)
- 에디터를 새로 키고 끄지 않아도 돼서 편리하지만 문제가 생길 가능성이 있음 (블루프린트랑 섞어서 작업할 때)
- 유니티와 다르게 코드를 수정해도 자동으로 적용 안되고, 에디터의 실행 버튼은 빌드와는 별개임. 코드 수정하고 실행 버튼 눌러도 변경사항 적용 안됨
- 핫 리로드 vs 라이브 코딩   
핫 리로드는 구식 기술이고 프로젝트를 손상시킬 수 있음. 핫 리로드를 하고 라이브 코딩을 쓰면 정상 작동을 안함. 이때는 에디터를 닫고 아예 리빌드를 해야 함. 라이브 코딩은 언리얼 4.22에 추가된 기능   
- 전체 빌드와 라이브 코딩을 적절히 잘 섞어 써야할듯. 핫 리로드는 사용 X
- [핫 리로드와 라이브 코딩에 관한 글](https://unrealcommunity.wiki/live-compiling-in-unreal-projects-tp14jcgs)
- [빌드 설정 관련](https://bloodstrawberry.tistory.com/1157)

## 실행

- 시뮬레이트를 사용하면 게임을 실행은 하되 플레이어를 조작하지 않고 원래 에디터처럼 조작이 가능
- 언리얼 엔진은 유니티와 다르게 씬과 게임 뷰를 동시에 띄울 수 없는듯함
- 게임 실행 도중 값을 바꾸고 싶다면 Eject 버튼을 눌러야함
- **추후에 개발 해보면서 직접 체험 해볼 것**
- [플레이 및 시뮬레이션](https://dev.epicgames.com/documentation/ko-kr/unreal-engine/playing-and-simulating-in-unreal-engine)


## 모듈

- 현대 언어의 모듈 시스템을 언리얼의 방식으로 구현한듯함.
- C#을 빌드 툴로 사용하는 것 같고, 정확히 내부 원리가 어떻게 돼있는지는 알려주지 않았음. (나중에 공부해보기)
- `[모듈이름].Target.cs`파일, `[모듈이름]`폴더, 그 폴더에 `[모듈이름].Build.cs`, `[모듈이름]Module.cpp` 을 생성해 프로젝트에 새로운 모듈 추가가능. `uproject`파일도 수정해함
- `[모듈이름].Build.cs`파일의 `PublicDependencyModuleNames.AddRange({...})` 부분을 수정하여 종속성을 추가할 수 있음

## 로그
- UE_LOG로 로깅 가능
- `UE_LOG(LogTemp, Warning, TEXT("Hello World"));`
- 로그 카테고리 / 로그 레벨 설정 가능
- 자체 로그 카테고리 정의 가능
- `UE_LOGFMT` 라는 최신 함수를 사용해 현대식 포메팅으로 로깅가능